@model String
@{
    var o = new System.Collections.Generic.Dictionary<string, object>();

    var isReadonly = false;
    if (ViewData.ModelMetadata.AdditionalValues.ContainsKey("IsReadOnly"))
    {
        isReadonly = (bool)ViewData.ModelMetadata.AdditionalValues["IsReadOnly"];
    }
    
    if (ViewData.ModelMetadata.IsReadOnly | isReadonly)
    {
        o.Add("class", "disabled");
        o.Add("disabled", "disabled");
        o.Add("readonly", "readonly");
        @Html.Hidden("", ViewData.TemplateInfo.FormattedModelValue);
    }

    @Html.TextBox("", ViewData.TemplateInfo.FormattedModelValue, o);
    
}